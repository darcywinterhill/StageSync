@model StageSyncApp.Models.Artist

@{
    var sortedList = Model.Bookings.OrderBy(item => item.BookingDate);
    var loggedInUser = User.Identity.Name;
    int id = 0;

    switch (loggedInUser)
    {
        case "sonicvoyager@artist.com":
            id = 1;
            break;
        case "silverserpent@artist.com":
            id = 2;
            break;
        case "galacticgroovesyndicate@artist.com":
            id = 3;
            break;
        default:
            id = -1;
            break;
    }
}

<header>
    <div class="header-logo-container">
        <h1 class="header-logo">
            Stage Sync
        </h1>
    </div>
    <div class="header-links-container">
@*         <form class="form-inline"
              asp-area="Identity"
              asp-page="/Account/Logout"
              asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
            <button type="submit"
                    class="nav-link btn btn-link header-link-button">
                <p class="link-text">
                    Log Out
                </p>
            </button>
        </form> *@
        <a class="header-link" asp-controller="Artists" asp-action="Logout">
            <p class="link-text">
                Log Out
            </p>
        </a>
        <span class="divider">
            /
        </span>
        <a class="header-link" asp-controller="Artists" asp-action="Index">
            <p class="link-text">
                Start
            </p>
        </a>
        <span class="divider">
            /
        </span>
        <a class="header-link" href="@Url.Action("Details", "Artists", new { id = id })">
            <p class="link-text underlined">
                Bookings
            </p>
        </a>
    </div>
</header>

<div class="overview-container">
    <h1 class="booking-title">
        Bookings
    </h1>
    <p class="info-text">
        Here is an overview of your booked gigs
    </p>
<div class="booking-container">
    <div class="booking-grid-item">
        <h2 class="booking-grid-heading">
            Venue
        </h2>
    </div>
    <div class="booking-grid-item">
        <h2 class="booking-grid-heading">
            Stage
        </h2>
    </div>
    <div class="booking-grid-item">
        <h2 class="booking-grid-heading">
            Date
        </h2>
    </div>

    @foreach (var item in sortedList)
    {
        <div class="booking-grid-item">
            <p class="booking-grid-text">
                @Html.DisplayFor(modelItem => item.VenueName)
            </p>
        </div>
        <div class="booking-grid-item">
            <p class="booking-grid-text">
                @Html.DisplayFor(modelItem => item.StageName)
            </p>
        </div>
        <div class="booking-grid-item">
            <p class="booking-grid-text">
                @Html.DisplayFor(modelItem => item.BookingDate)
            </p>
        </div>
    }
</div>
</div>